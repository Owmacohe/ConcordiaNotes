<!DOCTYPE html>
<html lang="en" dir="ltr">
  <head>
    <meta charset="utf-8">
    <link rel="icon" href="squash2.svg">
    <link rel="stylesheet" href="demo-style.css">
    <script src="simulate.js" charset="utf-8"></script>
    <title>Squash Inc. iSim</title>
  </head>

  <body class="flexcolumn">
    <h1>iSim XS+ Pro Extended Edition</h1>
    <div class="flexrow">
      <h2>Lightweight. Imaginative. Powerful.</h2>
      <img src="sim1.svg" alt="[iSim logo]" style="width: 4vw; margin-left: 1vw;">
    </div>
    <div class="flexrow">
      <h2 id="time">Time: 0s, Speed: 1</h2>
      <button onclick="gameIsStarted = true;">Start</button>
    </div>
    <div class="flexrow">

      <div class="flexcolumn">
        <div class="flexcolumn_dark">
          <h3>Biological needs</h3>
          <p id="bio"></p>
          <button onclick="increaseNeeds(bio_needs, 0)">Eat</button>
          <button onclick="increaseNeeds(bio_needs, 1)">Sleep</button>
          <button onclick="increaseNeeds(bio_needs, 2)">Waste</button>
        </div>
        <div class="flexcolumn_dark">
          <h3>Emotional needs</h3>
          <p id="emo"></p>
          <button onclick="increaseNeeds(emo_needs, 0)">Socialize</button>
          <button onclick="increaseNeeds(emo_needs, 1)">Seclude</button>
          <button onclick="increaseNeeds(emo_needs, 2)">Cavort</button>
        </div>
      </div>

      <div class="flexcolumn_dark" style="width: 40vw; height: 40vw;">
        <div id="darker">
          <img alt=" " id="subjectImg">
        </div>
      </div>

      <div class="flexcolumn">
        <div class="flexcolumn_dark">
          <h3>Large decisions</h3>
          <p id="lrg"></p>
          <div class="flexrow">
            <button onclick="decide('lrg', true)">Yes</button>
            <button onclick="decide('lrg', false)">No</button>
          </div>
        </div>
        <div class="flexcolumn_dark">
          <h3>Small decisions</h3>
          <p id="sml"></p>
          <div class="flexrow">
            <button onclick="decide('sml', true)">Yes</button>
            <button onclick="decide('sml', false)">No</button>
          </div>
        </div>
      </div>

    </div>

    <div class="flexrow">
      <p class="finePrint">Copyright Â© 2021 Squash Inc. All rights reserved.</p>
      <p class="finePrint">Squash Inc. cannot be held responsible for any existential crisises resulting from any iSim product.</p>
      <p class="finePrint">iSim, the Squash logo, and anything else we want is held under patent pending international law.</p>
      <img src="squash1.svg" alt="[Squash Inc. logo]" style="width: 1vw;">
    </div>
  </body>

  <script type="text/javascript">
    var dotsCount = 0; //Number of dots on-screen
    const DOTSOPACITY = 75; //Highest possible opacity chance

    //New dot every 50 milliseconds
    var dotCount = setInterval(function() {
      if (gameIsStarted) {
        //Deletes old dots (as so not to clutter up the screen)
        for (var i = 0; i < document.getElementsByClassName("backDots").length; i++) {
          document.getElementsByClassName("backDots")[i].remove();
        }

        for (var j = 0; j < dotsCount; j++) {
          var newDot = document.createElement("DIV");
          document.body.appendChild(newDot);
          newDot.setAttribute("class", "backDots");
          //Gives it a random position and opacity
          newDot.setAttribute("style",
              "position: absolute; z-index: -1;" +
              " left: " + Math.floor(Math.random() * 99) + "vw;" +
              " top: " + Math.floor(Math.random() * 55) + "vw;" +
              " opacity: " + Math.floor(Math.random() * DOTSOPACITY) + "%;");
          newDot.innerHTML = ".";

          //Possible chance to become a different colour
          var rand = Math.floor(Math.random() *3);
          switch (rand) {
            case 0:
              newDot.style.color = "var(--contrast)";
              break;
          }
        }
      }
    }, 50);
  </script>
</html>
